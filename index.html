<!DOCTYPE html>
<html>
  <head>
    <title>First Person Shooter</title>
    <style>
      body {
        margin: 0;
      }

      canvas {
        background-color: #000;
        display: block;
      }
    </style>
  </head>
  <body>
    <canvas id="gameCanvas" width="800" height="600"></canvas>

    <script>
      const canvas = document.getElementById("gameCanvas");
      const context = canvas.getContext("2d");

      // Player object
      const player = {
        x: canvas.width / 2,
        y: canvas.height / 2,
        width: 20,
        height: 20,
        color: "#00FF00",
        speed: 4,
        isMovingUp: false,
        isMovingDown: false,
        isMovingLeft: false,
        isMovingRight: false,
      };

      // Enemy object
      const enemy = {
        x: 100,
        y: 100,
        width: 20,
        height: 20,
        color: "#FF0000",
      };

      // Listen for keyboard events
      document.addEventListener("keydown", keyDownHandler);
      document.addEventListener("keyup", keyUpHandler);

      function keyDownHandler(event) {
        switch (event.keyCode) {
          case 87: // W key
            player.isMovingUp = true;
            break;
          case 83: // S key
            player.isMovingDown = true;
            break;
          case 65: // A key
            player.isMovingLeft = true;
            break;
          case 68: // D key
            player.isMovingRight = true;
            break;
          case 32: // Space key
            shoot();
            break;
        }
      }

      function keyUpHandler(event) {
        switch (event.keyCode) {
          case 87: // W key
            player.isMovingUp = false;
            break;
          case 83: // S key
            player.isMovingDown = false;
            break;
          case 65: // A key
            player.isMovingLeft = false;
            break;
          case 68: // D key
            player.isMovingRight = false;
            break;
        }
      }

      function shoot() {
        // Handle player shooting logic
        console.log("Player shot!");
      }

      function update() {
        // Update player position based on movement flags
        if (player.isMovingUp && player.y > 0) {
          player.y -= player.speed;
        }
        if (player.isMovingDown && player.y < canvas.height - player.height) {
          player.y += player.speed;
        }
        if (player.isMovingLeft && player.x > 0) {
          player.x -= player.speed;
        }
        if (player.isMovingRight && player.x < canvas.width - player.width) {
          player.x += player.speed;
        }

        // Update enemy position (basic AI)
        if (player.x < enemy.x) {
          enemy.x -= 1;
        }
        if (player.x > enemy.x) {
          enemy.x += 1;
        }
        if (player.y < enemy.y) {
          enemy.y -= 1;
        }
        if (player.y > enemy.y) {
          enemy.y += 1;
        }
      }

      function draw() {
        // Clear canvas
        context.clearRect(0, 0, canvas.width, canvas.height);

        // Draw player
        context.fillStyle = player.color;
        context.fillRect(player.x, player.y, player.width, player.height);

        // Draw enemy
        context.fillStyle = enemy.color;
        context.fillRect(enemy.x, enemy.y, enemy.width, enemy.height);

        // Call the draw function again on the next frame
        requestAnimationFrame(draw);
      }

      function gameLoop() {
        update();
        draw();
      }

      // Start the game loop
      gameLoop();
    </script>
  </body>
</html>
